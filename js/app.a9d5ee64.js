(function(){"use strict";var e={251:function(e,t,i){var o=i(963),s=i(252);const l=(0,s._)("div",{class:"p-5"},[(0,s._)("h1",null,"Some title test"),(0,s._)("p",{class:"fs-4"},"Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text here")],-1),r={class:"container-fluid"},n={class:"row"},a=(0,s._)("div",{class:"col-md-6"},[(0,s._)("div",{class:"p-5"},[(0,s._)("h1",null,"+"),(0,s._)("p",{class:"fs-4"},"Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text here")])],-1),h={class:"col-md-6"},m=(0,s._)("div",{class:"container-fluid"},[(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-2"}),(0,s._)("div",{class:"col-md-8"},[(0,s._)("div",{class:"p-5"},[(0,s._)("h1",null,"Test Scroll in a Page"),(0,s._)("p",{class:"fs-4"},"Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome "),(0,s._)("p",{class:"fs-4"},"Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome "),(0,s._)("p",{class:"fs-4"},"Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text hereSome ")])]),(0,s._)("div",{class:"col-md-2"})])],-1),u=(0,s._)("div",{class:"p-5"},[(0,s._)("h1",null,"Some title test"),(0,s._)("p",{class:"fs-4"},"Some title test text here Some title test text here Some title test text here Some title test text hereSome title test text hereSome title test text here")],-1);function S(e,t,i,o,S,c){const x=(0,s.up)("FullPageSection"),p=(0,s.up)("MapboxMap"),d=(0,s.up)("FullPageWrapper");return(0,s.wg)(),(0,s.j4)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[l])),_:1}),(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",n,[a,(0,s._)("div",h,[(0,s.Wm)(p)])])])])),_:1}),(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[m])),_:1}),(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[u])),_:1})])),_:1})}function c(e,t,i,o,l,r){return(0,s.wg)(),(0,s.iD)("div",{id:"fullpage",ref:"fullPageWrapper",onDisableScrolling:t[0]||(t[0]=(...e)=>r.disableScrolling&&r.disableScrolling(...e)),onEnableScrolling:t[1]||(t[1]=(...e)=>r.enableScrolling&&r.enableScrolling(...e))},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],544)}var x=i(615),p=i.n(x),d={name:"FullPageWrapper",data(){return{fullpageInstance:null}},async mounted(){await this.$nextTick(),this.fullpageInstance=new(p())("#fullpage",{})},methods:{disableScrolling(){this.fullpageInstance&&this.fullpageInstance.setAllowScrolling(!1)},enableScrolling(){this.fullpageInstance&&this.fullpageInstance.setAllowScrolling(!0)}}},f=i(744);const v=(0,f.Z)(d,[["render",c],["__scopeId","data-v-7ba310ba"]]);var g=v;const y={class:"section"};function b(e,t,i,o,l,r){return(0,s.wg)(),(0,s.iD)("div",y,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])}var _={name:"FullPageSection"};const w=(0,f.Z)(_,[["render",b],["__scopeId","data-v-363504a8"]]);var C=w;const P=(0,s._)("div",{id:"map"},null,-1);function L(e,t,i,o,l,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.showMunicipalitiesLayer&&r.showMunicipalitiesLayer(...e)),style:{position:"absolute",top:"20px",right:"20px","z-index":"9999"}}," Municipalities "),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>r.showCountiesLayer&&r.showCountiesLayer(...e)),style:{position:"absolute",top:"50px",right:"20px","z-index":"9999"}}," Counties "),P])}var M=i(158),$=i.n(M),I=i(68),O={name:"MapboxMap",data(){return{map:null,currentPopup:null,layers:[{id:"states",name:"County Data",geoJsonUrl:"geoJSON/County_Boundaries_of_NJ2C_Hosted2C_3857.geojson",csvUrl:"/data-csvs/County_data.csv",fillColor:"rgba(200, 100, 240, 0.22)",lineColor:"rgba(200, 100, 240, 1)",lineWidth:2,visible:!0},{id:"municipalities",name:"Municipality Data",geoJsonUrl:"geoJSON/Municipal_Boundaries_of_NJ2C_Hosted2C_3857.geojson",csvUrl:null,fillColor:"rgba(200, 100, 240, 0.22)",lineColor:"rgba(200, 100, 240, 1)",lineWidth:2,visible:!1}],csvDataLookup:{}}},mounted(){this.initMap().then((()=>{this.map.getCanvasContainer().addEventListener("mouseenter",(()=>{this.$emit("disable-scrolling")})),this.map.getCanvasContainer().addEventListener("mouseleave",(()=>{this.$emit("enable-scrolling")}))}))},methods:{async initMap(){$().accessToken="pk.eyJ1Ijoic2F2YW5hYmVuIiwiYSI6ImNsZTNobWs4YjA0eGkzcG1wZzhycjZrb3cifQ.4_Du3FBo2v9tdy2DZRhb6A";const e=new($().Map)({container:"map",style:"mapbox://styles/mapbox/light-v11",center:[-74.7057,40.1583],zoom:7});this.map=e;const t="/affordable-housing-viz-2";for(const i of this.layers)if(i.csvUrl){const e=await this.fetchCsvData(`${t}${i.csvUrl}`);this.csvDataLookup[i.id]=e}return new Promise((i=>{e.on("load",(async()=>{for(const i of this.layers)this.loadLayer(e,{...i,geoJsonUrl:`${t}${i.geoJsonUrl}`});i()}))}))},async loadLayer(e,t){e.addSource(t.id,{type:"geojson",data:t.geoJsonUrl}),e.addLayer({id:`${t.id}-layer`,type:"fill",source:t.id,paint:{"fill-color":t.fillColor},layout:{visibility:t.visible?"visible":"none"}}),e.addLayer({id:`${t.id}-outline`,type:"line",source:t.id,paint:{"line-color":t.lineColor,"line-width":t.lineWidth},layout:{visibility:t.visible?"visible":"none"}}),this.addMapInteractions(e,t.id)},async fetchCsvData(e){const t=await I.gyn(e),i={};return t.forEach((e=>{i[e.COUNTY]={column2:e.column2,column3:e.column3}})),i},getPopupContent(e,t){if("states"===e){const i=t.COUNTY_LABEL,o=this.csvDataLookup[e][t.COUNTY];let s=`<strong>${i}</strong>`;return o&&(o.column2&&(s+=`<br>Column 2: ${o.column2}`),o.column3&&(s+=`<br>Column 3: ${o.column3}`)),s}if("municipalities"===e){const e=t.NAME;return`<strong>${e}</strong>`}},addMapInteractions(e,t){const i=this.layers.find((e=>e.id===t));e.on("click",`${t}-layer`,(o=>{if(!i.visible)return;const s=o.features[0].properties,l=this.getPopupContent(t,s);this.currentPopup&&this.currentPopup.remove(),this.currentPopup=(new($().Popup)).setLngLat(o.lngLat).setHTML(l).addTo(e)})),e.on("mouseenter",`${t}-layer`,(()=>{e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",`${t}-layer`,(()=>{e.getCanvas().style.cursor=""}))},showMunicipalitiesLayer(){const e="municipalities";this.layers.forEach((t=>{t.visible=t.id===e;const i=t.visible?"visible":"none";this.map.setLayoutProperty(`${t.id}-layer`,"visibility",i),this.map.setLayoutProperty(`${t.id}-outline`,"visibility",i)})),this.currentPopup&&this.currentPopup.remove(),this.addMapInteractions(this.map,e)},showCountiesLayer(){const e="states";this.layers.forEach((t=>{t.visible=t.id===e;const i=t.visible?"visible":"none";this.map.setLayoutProperty(`${t.id}-layer`,"visibility",i),this.map.setLayoutProperty(`${t.id}-outline`,"visibility",i)})),this.currentPopup&&this.currentPopup.remove(),this.addMapInteractions(this.map,e)}}};const W=(0,f.Z)(O,[["render",L]]);var j=W,k={name:"App",components:{FullPageWrapper:g,FullPageSection:C,MapboxMap:j}};const D=(0,f.Z)(k,[["render",S]]);var U=D;(0,o.ri)(U).mount("#app")}},t={};function i(o){var s=t[o];if(void 0!==s)return s.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,i),l.exports}i.m=e,function(){var e=[];i.O=function(t,o,s,l){if(!o){var r=1/0;for(m=0;m<e.length;m++){o=e[m][0],s=e[m][1],l=e[m][2];for(var n=!0,a=0;a<o.length;a++)(!1&l||r>=l)&&Object.keys(i.O).every((function(e){return i.O[e](o[a])}))?o.splice(a--,1):(n=!1,l<r&&(r=l));if(n){e.splice(m--,1);var h=s();void 0!==h&&(t=h)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[o,s,l]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,l,r=o[0],n=o[1],a=o[2],h=0;if(r.some((function(t){return 0!==e[t]}))){for(s in n)i.o(n,s)&&(i.m[s]=n[s]);if(a)var m=a(i)}for(t&&t(o);h<r.length;h++)l=r[h],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(m)},o=self["webpackChunkhousing_viz_prj"]=self["webpackChunkhousing_viz_prj"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(251)}));o=i.O(o)})();
//# sourceMappingURL=app.a9d5ee64.js.map