(function(){"use strict";var e={2323:function(e,t,a){var o=a(9242),i=a(3396),n=a(7139);const s=e=>((0,i.dD)("data-v-d6710d58"),e=e(),(0,i.Cn)(),e),r={class:"p-5 bg-image1"},l=s((()=>(0,i._)("div",{class:"container-fluid"},[(0,i._)("div",{class:"row"},[(0,i._)("div",{class:(0,n.C_)({"col-md-6":!0,"two-column-left":!0})},[(0,i._)("div",{class:"p-5"},[(0,i._)("br"),(0,i._)("h2",null,"From The landmark 1975 Mount Laurel Doctrine, which held that every town in the state must provide its “fair share” of the regional need for affordable housing…"),(0,i._)("br"),(0,i._)("p",{class:"fs-4"},[(0,i._)("i",null,"“As a developing municipality, Mount Laurel must, by its land use regulations, make realistically possible the opportunity for an appropriate variety and choice of housing for all categories of people who may desire to live there, of course including those of low and moderate income.”")]),(0,i._)("footer",{class:"blockquote-footer text-end"},[(0,i._)("cite",{title:"Source Title"},[(0,i._)("h6",null,[(0,i.Uk)("Exerpt from The Mount Laurel Doctrine."),(0,i._)("br"),(0,i.Uk)("Southern Burlington County NAACP v. Township of Mount Laurel (67 N.J. 151, 1975)")])])]),(0,i._)("br")])]),(0,i._)("div",{class:"col-md-6"},[(0,i._)("div",{class:"bg-image2 two-column-right"})])])],-1))),c=s((()=>(0,i._)("div",{class:"container-fluid"},[(0,i._)("div",{class:"row"},[(0,i._)("div",{class:(0,n.C_)({"col-md-6":!0,"two-column-left":!0})},[(0,i._)("div",{class:"p-5"},[(0,i._)("br"),(0,i._)("h2",null,"…To the Fair Share Housing Center, a present-day organization fighting to ensure towns across NJ meet their Mount Laurel obligations."),(0,i._)("br"),(0,i._)("p",{class:"fs-4"},[(0,i._)("i",null,"“Since 2015, Fair Share Housing Center has settled cases with more than 340 towns throughout New Jersey, which will lead to approximately 50,000 more affordable homes in the next decade.”")]),(0,i._)("footer",{class:"blockquote-footer text-end"},[(0,i._)("cite",{title:"Source Title"},[(0,i._)("h6",null,"Fair Share Housing Center")])]),(0,i._)("br")])]),(0,i._)("div",{class:"col-md-6 nopadding"},[(0,i._)("div",{class:"bg-image3 two-column-right"})])])],-1))),d={class:"container-fluid"},u={class:"row"},p=s((()=>(0,i._)("div",{class:"col-md-2"},null,-1))),h={class:"col-md-8"},f={class:"p-5"},m=s((()=>(0,i._)("h2",{class:"pt-3"},"The gap is large. But devoted organizations and advocates across the state are fighting for change by leveraging Mount Laurel, Section 8, Federal HUD money, and more. ",-1))),v=s((()=>(0,i._)("h2",null,[(0,i._)("b",null,"Everyone can play a part...")],-1))),g=s((()=>(0,i._)("div",{class:"col-md-2"},null,-1))),b={class:"p-5 bg-image4"};function y(e,t,a,o,s,y){const _=(0,i.up)("MapboxMap"),w=(0,i.up)("MapOverlay"),M=(0,i.up)("FullPageSection"),C=(0,i.up)("ForceDirectedGraph"),D=(0,i.up)("HorizontalBarGraph"),L=(0,i.up)("FullPageWrapper"),k=(0,i.up)("HousingDataModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.showMap?((0,i.wg)(),(0,i.j4)(_,{key:0,ref:"mapboxMap",onOpenHousingDataModal:y.handleHousingDataModal,class:(0,n.C_)({"map-container":!0,visible:s.isMapVisible})},null,8,["onOpenHousingDataModal","class"])):(0,i.kq)("",!0),(0,i.Wm)(L,{options:s.fullPageOptions,onOnLeave:y.onSectionLeave},{default:(0,i.w5)((()=>[(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i._)("div",r,[(0,i.Wm)(w,{class:"map-overlay-full-top",title:"The Story of Affordable Housing in NJ",content:"<i>An extremely abridged history and today's current need.</i>"})])])),_:1}),(0,i.Wm)(M,{class:"graph-container"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"map-overlay-full-top",title:"<h3>Affordable housing is a rich and complex network of driving forces.</h3>",content:""}),(0,i.Wm)(C,{data:s.graphData},null,8,["data"])])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[l])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[c])),_:1}),(0,i.Wm)(M,{class:"pointer-events-off"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"map-overlay-half",title:"Where do we stand now?",content:"Based on 2017 court projections, Mount Laurel calls for <b>305,504</b> affordable homes across the state by 2025."},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{data:s.barData,visibleBars:[!0,!1,!1]},null,8,["data"])])),_:1})])),_:1}),(0,i.Wm)(M,{class:"pointer-events-off"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"map-overlay-half",title:"",content:"Based on 2022 estimates, we have <b>206,083</b> affordable homes… "},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{data:s.barData,visibleBars:[!0,!0,!1]},null,8,["data"])])),_:1})])),_:1}),(0,i.Wm)(M,{class:"pointer-events-off"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"map-overlay-half",title:"",content:"<p>…Which meets <b>26%</b> of the need.</p><p>Roughly <b>797,109</b> renter households across the state are moderate to low income.</p>"},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{data:s.barData,visibleBars:[!0,!0,!0]},null,8,["data"])])),_:1})])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i._)("div",u,[p,(0,i._)("div",h,[(0,i._)("div",f,[(0,i.Wm)(D,{data:s.barData,visibleBars:[!0,!0,!0]},null,8,["data"]),m,v])]),g])])])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i._)("div",b,[(0,i.Wm)(w,{class:"map-overlay-full-bottom",title:"… even if all you do is keep an open heart to denser smart housing built around you.",content:"Shown is the Merwick Stanworth community in Princeton. This community adds 56 affordable homes.</i>"})])])),_:1})])),_:1},8,["options","onOnLeave"]),(0,i.Wm)(k,{ref:"housingDataModal",fields:s.modalFields},null,8,["fields"])],64)}function _(e,t,a,o,n,s){return(0,i.wg)(),(0,i.iD)("div",{id:"fullpage",ref:"fullPageWrapper",onDisableScrolling:t[0]||(t[0]=(...e)=>s.disableScrolling&&s.disableScrolling(...e)),onEnableScrolling:t[1]||(t[1]=(...e)=>s.enableScrolling&&s.enableScrolling(...e))},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],544)}var w=a(2120),M=a.n(w),C={name:"FullPageWrapper",props:{options:{type:Object,default:()=>({})}},data(){return{fullpageInstance:null}},mounted(){this.$nextTick((()=>{this.fullpageInstance=new(M())(this.$refs.fullPageWrapper,{...this.options,onLeave:(e,t,a)=>{this.$emit("onLeave",e,t,a)},afterLoad:(e,t,a)=>{this.$emit("afterLoad",e,t,a)}})}))},beforeUnmount(){this.fullpageInstance&&this.fullpageInstance.destroy("all")},methods:{disableScrolling(){this.fullpageInstance&&(this.fullpageInstance.setAllowScrolling(!1),this.fullpageInstance.setKeyboardScrolling(!1))},enableScrolling(){this.fullpageInstance&&(this.fullpageInstance.setAllowScrolling(!0),this.fullpageInstance.setKeyboardScrolling(!0))}}},D=a(89);const L=(0,D.Z)(C,[["render",_],["__scopeId","data-v-3211daa3"]]);var k=L;const P={class:"section"};function x(e,t,a,o,n,s){return(0,i.wg)(),(0,i.iD)("div",P,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])}var N={name:"FullPageSection"};const $=(0,D.Z)(N,[["render",x],["__scopeId","data-v-363504a8"]]);var H=$;const T=(0,i._)("div",{id:"map",style:{}},null,-1);function O(e,t,a,o,n,s){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("button",{class:"btn btn-primary mt-2",onClick:t[0]||(t[0]=(...e)=>s.showJacobsonLayer&&s.showJacobsonLayer(...e)),style:{position:"absolute",top:"20px",right:"20px","z-index":"9999","background-color":"#ae017e","border-color":"#ae017e"}}," Mt. Laurel "),(0,i._)("button",{class:"btn btn-primary mt-2",onClick:t[1]||(t[1]=(...e)=>s.showMunicipalitiesLayer&&s.showMunicipalitiesLayer(...e)),style:{position:"absolute",top:"60px",right:"20px","z-index":"9999","background-color":"#238443","border-color":"#238443"}}," Municipalities "),(0,i._)("button",{class:"btn btn-primary mt-2",onClick:t[2]||(t[2]=(...e)=>s.showCountiesLayer&&s.showCountiesLayer(...e)),style:{position:"absolute",top:"100px",right:"20px","z-index":"9999","background-color":"#cc4c02","border-color":"#cc4c02"}}," Counties "),T])}var S=a(7709),I=a.n(S),W=a(9790),j={name:"MapboxMap",components:{},data(){return{map:null,currentPopup:null,layers:[{id:"states",name:"County Data",geoJsonUrl:"geoJSON/County_Boundaries_of_NJ2C_Hosted2C_3857.geojson",csvUrl:"/data-csvs/MODIFIED_renter_household_income_filtered copy.csv",fillColor:"rgba(200, 100, 240, 0.22)",lineColor:"#3a3a3a",colorSetName:"states",lineWidth:1,visible:!0},{id:"municipalities",name:"Municipality Data",geoJsonUrl:"geoJSON/Municipal_Boundaries_of_NJ2C_Hosted2C_3857.geojson",csvUrl:"/data-csvs/Total_Units_per_Comu.csv",fillColor:"rgba(200, 100, 240, 0.22)",lineColor:"#3a3a3a",colorSetName:"municipalities",lineWidth:1,visible:!1},{id:"jacobson",name:"Jacobson Data",geoJsonUrl:"geoJSON/Municipal_Boundaries_of_NJ2C_Hosted2C_3857.geojson",csvUrl:"/data-csvs/Total_Units_per_Comu.csv",colorSetName:"jacobson",fillColor:"rgba(200, 100, 240, 0.22)",lineColor:"#3a3a3a",lineWidth:1,visible:!1}],csvDataLookup:{}}},mounted(){this.initMap().then((()=>{this.map.getCanvasContainer().addEventListener("mouseenter",(()=>{this.$emit("disable-scrolling")})),this.map.getCanvasContainer().addEventListener("mouseleave",(()=>{this.$emit("enable-scrolling")}))}))},methods:{async initMap(){I().accessToken="pk.eyJ1Ijoic2F2YW5hYmVuIiwiYSI6ImNsZTNobWs4YjA0eGkzcG1wZzhycjZrb3cifQ.4_Du3FBo2v9tdy2DZRhb6A";const e=new(I().Map)({container:"map",style:"mapbox://styles/mapbox/light-v11",center:[-75.7057,40.1583],zoom:7.3});this.map=e;const t="/affordable-housing-viz-2/";for(const a of this.layers)if(a.csvUrl){const e=await this.fetchCsvData(`${t}${a.csvUrl}`,a.id);this.csvDataLookup[a.id]=e}return new Promise((a=>{e.on("load",(async()=>{for(const a of this.layers)this.loadLayer(e,{...a,geoJsonUrl:`${t}${a.geoJsonUrl}`});a()}))}))},async loadLayer(e,t){e.addSource(t.id,{type:"geojson",data:t.geoJsonUrl}),e.addLayer({id:`${t.id}-layer`,type:"fill",source:t.id,paint:{"fill-color":t.fillColor},layout:{visibility:t.visible?"visible":"none"}}),e.addLayer({id:`${t.id}-outline`,type:"line",source:t.id,paint:{"line-color":t.lineColor,"line-width":t.lineWidth},layout:{visibility:t.visible?"visible":"none"}}),this.addMapInteractions(e,t)},async fetchCsvData(e,t){const a=await W.gyn(e),o={};return a.forEach((e=>{if("municipalities"===t){const t=e.comuMerged;o[t]={units:e.units}}else if("jacobson"===t){const t=e.comuMerged;o[t]={total:e["Total"],priorRound:e["Prior Round Obligations (1987-1999)"],presentNeed:e["Present Need (2015)"],gapPresentNeed:e["Gap Present Need (2015)"],prospectiveNeed:e["Prospective Need (2015-2025)"],prospectiveGapPresent:e["Prospective + Gap Present"]}}else if("states"===t){const t=e.COUNTY;o[t]={OccupiedRentalHousingUnits:e["Occupied rental housing units"],Moderate_LMI_estimate:e.Moderate_LMI_estimate}}})),o},createDetailedHousingDataButton(e,t){const a=document.createElement("button");return a.type="button",a.classList.add("btn","mt-2","btn-primary","btn-sm"),a.textContent="Detailed Housing Data",a.addEventListener("click",(()=>this.openHousingDataModal(e,t))),a},async openHousingDataModal(e,t){this.$emit("open-housing-data-modal",{municipalityName:e,comuMerged:t,items:[]})},getPopupContent(e,t){if("states"===e){const a=t.COUNTY_LABEL,o=this.csvDataLookup[e][t.COUNTY],i=document.createElement("div");if(i.innerHTML=`<h5><strong>${a}</strong></h5>`,o&&o.Moderate_LMI_estimate){const e=document.createElement("div");e.innerHTML=`Moderate, low, and very low <br>income household: <br> <h5>${o.Moderate_LMI_estimate}</h5>`,i.appendChild(e)}if(o.OccupiedRentalHousingUnits){const e=document.createElement("div");e.innerHTML=`Total rental households: ${o.OccupiedRentalHousingUnits}`,i.appendChild(e)}return i}if("municipalities"===e){const a=t.NAME,o=this.csvDataLookup[e][t.MUN_CODE],i=document.createElement("div");if(i.innerHTML=`<h5><strong>${a}</strong></h5><h6>Existing Affordable <br> Households (2022)</h6>`,o&&o.units){const e=document.createElement("div");e.innerHTML=`<h5>Total: ${o.units}</h5>`,i.appendChild(e)}const n=this.createDetailedHousingDataButton(a,t.MUN_CODE);return i.appendChild(n),i}if("jacobson"===e){const a=t.NAME,o=this.csvDataLookup[e][t.MUN_CODE];console.log("rowData",o);const i=document.createElement("div");if(i.innerHTML=`<h5><strong>${a}</strong></h5>`,o){if(o.total){const e=document.createElement("div");e.innerHTML=`<strong>Total: ${o.total}<strong>`,i.appendChild(e)}if(o.priorRound){const e=document.createElement("div");e.innerHTML=`Prior Round Obligations (1987-1999): ${o.priorRound}`,i.appendChild(e)}if(o.presentNeed){const e=document.createElement("div");e.innerHTML=`Present Need (2015): ${o.presentNeed}`,i.appendChild(e)}if(o.gapPresentNeed){const e=document.createElement("div");e.innerHTML=`Gap Present Need (2015): ${o.gapPresentNeed}`,i.appendChild(e)}if(o.prospectiveNeed){const e=document.createElement("div");e.innerHTML=`Prospective Need (2015-2025): ${o.prospectiveNeed}`,i.appendChild(e)}if(o.prospectiveGapPresent){const e=document.createElement("div");e.innerHTML=`Prospective + Gap Present: ${o.prospectiveGapPresent}`,i.appendChild(e)}}else console.log("No rowData found for",t.MUN_CODE);return i}},getColorSet(e){const t={default:[{value:1,color:"#ffffcc"},{value:5,color:"#d9f0a3"},{value:28,color:"#addd8e"},{value:149,color:"#78c679"},{value:791,color:"#41ab5d"},{value:4196,color:"#238443"},{value:1/0,color:"#005a32"}],jacobson:[{value:1,color:"#feebe2"},{value:40,color:"#fcc5c0"},{value:100,color:"#fa9fb5"},{value:350,color:"#f768a1"},{value:703,color:"#dd3497"},{value:1466,color:"#ae017e"},{value:1/0,color:"#7a0177"}],states:[{value:4366,color:"#ffffd4"},{value:7714,color:"#fee391"},{value:13629,color:"#fec44f"},{value:24080,color:"#fe9929"},{value:42545,color:"#ec7014"},{value:75170,color:"#cc4c02"},{value:1/0,color:"#8c2d04"}]};return t[e]||t.default},getFillColor(e,t){const a=this.getColorSet(t),o=parseInt(e,10);for(const i of a)if(o<=i.value)return i.color},addMapInteractions(e,t){const a=t.id,o=this.layers.find((e=>e.id===a));if("municipalities"===a){const t=["match",["get","MUN_CODE"],...Object.entries(this.csvDataLookup[a]).flatMap((([e,t])=>{const a=this.getFillColor(t.units,"default");return a?[e,a]:[]})),"rgba(0, 0, 0, 0)"];e.setPaintProperty(`${a}-layer`,"fill-color",t)}if("states"===a){const t=["match",["get","COUNTY"],...Object.entries(this.csvDataLookup[a]).flatMap((([e,t])=>{const a=this.getFillColor(parseInt(t.Moderate_LMI_estimate),"states");return a?[e,a]:[]})),"rgba(0, 0, 0, 0)"];e.setPaintProperty(`${a}-layer`,"fill-color",t)}if("jacobson"===a){const t=["match",["get","MUN_CODE"],...Object.entries(this.csvDataLookup[a]).flatMap((([e,t])=>{const a=this.getFillColor(t.total,"jacobson");return a?[e,a]:[]})),"rgba(0, 0, 0, 0)"];e.setPaintProperty(`${a}-layer`,"fill-color",t)}e.on("click",`${a}-layer`,(t=>{if(!o.visible)return;const i=t.features[0].properties,n=this.getPopupContent(a,i);this.currentPopup&&this.currentPopup.remove(),this.currentPopup=(new(I().Popup)).setLngLat(t.lngLat).setDOMContent(n).addTo(e);const s=n.querySelector("button");s&&s.addEventListener("click",(()=>{this.$emit("open-housing-data-modal",{municipalityName:i.NAME,munCode:i.MUN_CODE})}))})),e.on("mouseenter",`${a}-layer`,(()=>{e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",`${a}-layer`,(()=>{e.getCanvas().style.cursor=""}))},showMunicipalitiesLayer(){const e="municipalities";this.layers.forEach((t=>{t.visible=t.id===e;const a=t.visible?"visible":"none";this.map.setLayoutProperty(`${t.id}-layer`,"visibility",a),this.map.setLayoutProperty(`${t.id}-outline`,"visibility",a)})),this.currentPopup&&this.currentPopup.remove(),this.addMapInteractions(this.map,e)},showJacobsonLayer(){const e="jacobson";this.layers.forEach((t=>{t.visible=t.id===e;const a=t.visible?"visible":"none";this.map.setLayoutProperty(`${t.id}-layer`,"visibility",a),this.map.setLayoutProperty(`${t.id}-outline`,"visibility",a)})),this.currentPopup&&this.currentPopup.remove(),this.addMapInteractions(this.map,e)},showCountiesLayer(){const e="states";this.layers.forEach((t=>{t.visible=t.id===e;const a=t.visible?"visible":"none";this.map.setLayoutProperty(`${t.id}-layer`,"visibility",a),this.map.setLayoutProperty(`${t.id}-outline`,"visibility",a)})),this.currentPopup&&this.currentPopup.remove(),this.addMapInteractions(this.map,e)}}};const E=(0,D.Z)(j,[["render",O]]);var U=E;const A={class:"d-flex justify-content-center align-items-center"},F={class:"container-fluid px-0"},J={class:"row h-100"},B={class:""},G={class:"p-4 bg-white rounded w-100"},z=["innerHTML"],Y=["innerHTML"];function R(e,t,a,o,n,s){return(0,i.wg)(),(0,i.iD)("div",A,[(0,i._)("div",F,[(0,i._)("div",J,[(0,i._)("div",B,[(0,i._)("div",G,[(0,i._)("h1",{class:"mb-4",innerHTML:a.title},null,8,z),(0,i._)("p",{class:"fs-4",innerHTML:a.content},null,8,Y),(0,i.WI)(e.$slots,"default")])])])])])}var Z={name:"MapOverlay",props:{title:{type:String,default:""},content:{type:String,default:""}}};const q=(0,D.Z)(Z,[["render",R]]);var K=q;const V={ref:"graphContainer",class:"graph-container"};function Q(e,t,a,o,n,s){return(0,i.wg)(),(0,i.iD)("div",V,null,512)}var X={name:"ForceDirectedGraph",props:{data:{type:Object,required:!0}},data(){return{graph:null}},mounted(){this.createGraph()},methods:{createGraph(){const e=this.$refs.graphContainer,t=e.offsetWidth,a=e.offsetHeight,o=W.Ys(e).append("svg").attr("width",t).attr("height",a);this.simulation=W.A4v(this.data.nodes).force("link",W.Fsl(this.data.links).id((e=>e.id)).distance(50)).force("charge",W.q5i().strength(20)).force("center",W.wqt(t/2,a/2).strength(1.9)),this.labelSimulation=W.A4v(this.data.nodes).force("charge",W.q5i().strength(20)).force("collide",W.Hh(35)).on("tick",s);const i=o.selectAll(".link").data(this.data.links).join("line").attr("class","link").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",(e=>Math.sqrt(e.value))),n=o.selectAll(".node").data(this.data.nodes).join("g").attr("class","node").call(this.drag(this.simulation));function s(){i.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),n.attr("transform",(e=>`translate(${e.x}, ${e.y})`))}n.append("circle").attr("r",(e=>e.radius)).attr("fill",(e=>e.color)).on("click",this.showPopover),n.append("foreignObject").attr("x",(e=>e.radius)).attr("y","-0.5em").attr("width",190).attr("height",50).append("xhtml:div").style("font","15px sans-serif").style("word-wrap","break-word").style("pointer-events","none").html((e=>e.name))},drag(e){function t(t,a){t.active||e.alphaTarget(.3).restart(),this.labelSimulation.alphaTarget(.3).restart(),a.fx=a.x,a.fy=a.y}function a(e,t){t.fx=e.subject.x=e.x,t.fy=e.subject.y=e.y}function o(t,a){t.active||e.alphaTarget(0),this.labelSimulation.alphaTarget(0),a.fx=null,a.fy=null}return W.ohM().on("start",t.bind(this)).on("drag",a.bind(this)).on("end",o.bind(this))},showPopover(e){}}};const ee=(0,D.Z)(X,[["render",Q],["__scopeId","data-v-74f03797"]]);var te=ee;const ae={ref:"barGraphContainer",class:"bar-graph-container"};function oe(e,t,a,o,n,s){return(0,i.wg)(),(0,i.iD)("div",ae,null,512)}var ie={name:"HorizontalBarGraph",props:{data:{type:Array,required:!0},visibleBars:{type:Array,required:!0}},data(){return{graph:null}},mounted(){this.createGraph()},watch:{visibleBars:{handler(){this.updateGraph()},deep:!0}},methods:{createGraph(){const e=this.$refs.barGraphContainer,t=e.offsetWidth,a=40,o=50,i=o,n=this.data.length*(a+o)-o+i;e.style.height=`${n}px`;const s=W.Ys(e).append("svg").attr("width",t).attr("height",n).attr("viewBox",`0 -${i} ${t} ${n}`),r=W.Fp7(this.data,(e=>e.value)),l=W.BYU().domain([0,r]).range([0,t]);this.graph=s.selectAll(".bar-group").data(this.data).join("g").attr("class","bar-group").attr("transform",((e,t)=>`translate(0, ${t*(a+o)})`)),this.graph.append("rect").attr("class","bar").attr("width",(e=>l(e.value))).attr("height",a).attr("rx","3").attr("fill",(e=>e.color)),this.graph.append("text").attr("class","label").attr("x",5).attr("y",-o/5.7).attr("font-size","18px").attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","#000").text((e=>e.label)),this.graph.append("text").attr("class","value").attr("x",(e=>l(e.value)-5)).attr("y",a/2).attr("dy",".35em").attr("text-anchor","end").attr("font-size","16px").attr("font-family","sans-serif").attr("fill","#fff").text((e=>W.WUZ(",")(e.value))),this.updateGraph()},updateGraph(){this.graph.style("display",((e,t)=>this.visibleBars[t]?"block":"none"))}}};const ne=(0,D.Z)(ie,[["render",oe],["__scopeId","data-v-274e0a57"]]);var se=ne;const re=e=>((0,i.dD)("data-v-4a70418c"),e=e(),(0,i.Cn)(),e),le={id:"housingDataModal",class:"modal fade",ref:"modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},ce={class:"modal-dialog modal-wide",role:"document"},de={class:"modal-content"},ue={class:"modal-header"},pe={class:"modal-title"},he=re((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),fe=[he],me={class:"modal-body sticky-padding-fix"},ve=re((()=>(0,i._)("h4",null,[(0,i.Uk)("The following housing data is from the NJ Division of Codes and Standards 2022 List of "),(0,i._)("a",{href:"https://www.nj.gov/dca/divisions/codes/publications/developments.html"},"Affordable Developments by County"),(0,i.Uk)(". ")],-1))),ge={class:"table table-responsive table-sticky-header"};function be(e,t,a,o,s,r){return(0,i.wg)(),(0,i.iD)("div",le,[(0,i._)("div",ce,[(0,i._)("div",de,[(0,i._)("div",ue,[(0,i._)("h1",pe,(0,n.zw)(s.modalTitle),1),(0,i._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>r.hideModal&&r.hideModal(...e))},fe)]),(0,i._)("div",me,[ve,(0,i._)("table",ge,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.fields,(e=>((0,i.wg)(),(0,i.iD)("th",{key:e.key},(0,n.zw)(e.label),1)))),128))])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.localItems,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.fields,(t=>((0,i.wg)(),(0,i.iD)("td",{key:t.key},(0,n.zw)(e[t.key]),1)))),128))])))),128))])])])])])],512)}var ye={name:"HousingDataModal",props:{fields:Array},data(){return{modalTitle:"",localItems:[]}},methods:{showModal(){this.$emit("disable-scrolling"),this.$nextTick((()=>{const e=window.jQuery("#housingDataModal");e.modal("show"),document.body.style.overflow="hidden",document.body.classList.add("modal-open")}))},hideModal(){const e=window.jQuery(this.$refs.modal);document.body.style.overflow="",document.body.classList.remove("modal-open"),this.$emit("enable-scrolling"),e.modal("hide")},updateItems(e){console.log("updating modal items:",e),this.localItems=e}}};const _e=(0,D.Z)(ye,[["render",be],["__scopeId","data-v-4a70418c"]]);var we=_e,Me={name:"App",components:{FullPageWrapper:k,FullPageSection:H,MapboxMap:U,HousingDataModal:we,HorizontalBarGraph:se,ForceDirectedGraph:te,MapOverlay:K},data(){return{modalTitle:"",modalFields:[],modalItems:[],isMapClickable:!1,showMap:!1,isMapVisible:!1,graphData:{nodes:[{id:"1",name:"Public Entities",radius:20,color:"#ae017e"},{id:"2",name:"New Jersey Department of Community Affairs",radius:10,color:"#dd3497"},{id:"3",name:"New Jersey Housing and Mortgage Finance Agency",radius:10,color:"#dd3497"},{id:"4",name:"New Jersey Redevelopment Authority",radius:10,color:"#dd3497"},{id:"13",name:"NJ Housing Resource Center",radius:10,color:"#dd3497"},{id:"5",name:"Private Entities",radius:20,color:"#0570b0"},{id:"6",name:"Housing and Community Development Network of New Jersey",radius:10,color:"#3690c0"},{id:"7",name:"New Jersey Future",radius:10,color:"#3690c0"},{id:"8",name:"Affordable Housing Professionals of New Jersey",radius:10,color:"#3690c0"},{id:"9",name:"Fair Share Housing Center ",radius:10,color:"#3690c0"},{id:"10",name:"Mount Laurel Doctrine",radius:20,color:"#238443"},{id:"11",name:"Builder's Remedy",radius:10,color:"#41AB5D"},{id:"12",name:"Rounds of Obligation",radius:10,color:"#41AB5D"}],links:[{source:"1",target:"2",value:1},{source:"1",target:"3",value:1},{source:"1",target:"4",value:1},{source:"1",target:"9",value:1},{source:"1",target:"13",value:1},{source:"5",target:"6",value:1},{source:"5",target:"7",value:1},{source:"5",target:"8",value:1},{source:"5",target:"9",value:1},{source:"10",target:"11",value:1},{source:"10",target:"12",value:1}]},barData:[{label:"Mt. Laurel Projections",value:305504,color:"#ae017e"},{label:"What we have",value:206083,color:"#238443"},{label:"What we need",value:797109,color:"#cc4c02"}],visibleBars:[!0,!0,!0],fullPageOptions:{normalScrollElements:".map-container"}}},methods:{async handleHousingDataModal({municipalityName:e,munCode:t}){this.$refs.housingDataModal.modalTitle=e;const a="/affordable-housing-viz-2/",o=await W.gyn(`${a}/data-csvs/Municipal-level-housing-data.csv`),i=o.filter((e=>e.comuMerged===t));this.modalFields=[{key:"development / aka",label:"Development"},{key:"units",label:"Units"},{key:"type",label:"Type"},{key:"tenure",label:"Tenure"},{key:"agent",label:"Agent"},{key:"agent address",label:"Agent Address"},{key:"website",label:"Website"},{key:"source",label:"Source"},{key:"zip",label:"ZIP"},{key:"combinedPhone",label:"Phone"}],this.$refs.housingDataModal.updateItems(i),this.$refs.housingDataModal.showModal()},onSectionLeave(e,t,a){4===t.index||5===t.index||6===t.index?(this.showMap=!0,this.isMapVisible=!0):(this.showMap=!1,this.isMapVisible=!1)}}};const Ce=(0,D.Z)(Me,[["render",y],["__scopeId","data-v-d6710d58"]]);var De=Ce;a(6744);(0,o.ri)(De).mount("#app")}},t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,i,n){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],n=e[d][2];for(var r=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(r=!1,n<s&&(s=n));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,n,s=o[0],r=o[1],l=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var d=l(a)}for(t&&t(o);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},o=self["webpackChunkhousing_viz_prj"]=self["webpackChunkhousing_viz_prj"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(2323)}));o=a.O(o)})();
//# sourceMappingURL=app.33eaf350.js.map